@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;700;800&display=swap');

:root{
  --bg1: #fff0f6;
  --bg2: #fff7f0;
  --accent: #ff4d6d;
  --muted: #6b6b6b;
}

*{box-sizing:border-box}
html,body,#__next{height:100%}
body{
  margin:0;
  font-family: Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
  background: linear-gradient(135deg,var(--bg1),var(--bg2));
  color:#222;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}

.page-root{min-height:100vh;display:flex;flex-direction:column;align-items:stretch;position:relative;overflow:hidden}

.container{max-width:900px;margin:0 auto;padding:3rem 1.25rem;flex:1;display:flex;align-items:center;justify-content:center}

.site-header{display:flex;flex-direction:column;align-items:center;padding:2rem 1rem}
.logo{display:flex;align-items:center;gap:.75rem}
.logo-badge{width:44px;height:44px;border-radius:10px;background:linear-gradient(180deg,var(--accent),#ff9fb3);display:inline-block}
.logo-heart{width:44px;height:44px}
.site-header h1{margin:0;font-size:1.25rem;letter-spacing:0.4px}
.sub{margin:0;margin-top:.35rem;color:var(--muted)}

.hero{background:rgba(255,255,255,0.7);border-radius:18px;padding:2.5rem;text-align:center;box-shadow:0 8px 30px rgba(0,0,0,0.08)}
.greeting{font-size:2.25rem;margin:0 0 .5rem;color:var(--accent)}
.lead{margin:0 0 1.25rem;color:#333}
.reveal-btn{background:var(--accent);color:white;border:0;padding:.6rem 1rem;border-radius:999px;font-weight:700;cursor:pointer;box-shadow:0 6px 18px rgba(255,77,109,0.24)}
.reveal-btn:active{transform:translateY(1px)}

.surprise{max-width:600px;margin:1rem auto 0;opacity:0;transform:translateY(8px);transition:all 420ms cubic-bezier(.2,.9,.2,1)}
.surprise.show{opacity:1;transform:none}
.surprise-text{font-size:1.125rem;margin:0;color:#5b2a4a}
.gift{margin-top:.75rem}
.note{margin-top:1.25rem;color:var(--muted)}

.balloons{position:fixed;left:0;right:0;top:0;bottom:0;pointer-events:none;overflow:visible}
.balloon{position:absolute;font-size:2rem;opacity:0.9;animation:float 8s infinite ease-in-out}
.b1{left:10%;animation-delay:0s}
.b2{left:25%;animation-delay:1.2s}
.b3{left:45%;animation-delay:0.6s}
.b4{left:65%;animation-delay:1.8s}
.b5{left:82%;animation-delay:0.3s}

@keyframes float{
  0%{transform:translateY(110vh) translateX(0) scale(0.95)}
  50%{transform:translateY(40vh) translateX(10px) scale(1.05)}
  100%{transform:translateY(-20vh) translateX(-10px) scale(1)}
}

/* bunting banner */
.bunting{position:fixed;left:50%;transform:translateX(-50%);top:8px;display:flex;gap:8px;z-index:120;pointer-events:none}
.flag{width:42px;height:30px;border-radius:4px;display:inline-block;clip-path:polygon(0 0,100% 0,80% 100%,20% 100%);box-shadow:0 6px 18px rgba(0,0,0,0.08)}
.flag.f1{background:linear-gradient(180deg,#ffd1dc,#ffb0c1)}
.flag.f2{background:linear-gradient(180deg,#fff2d1,#ffd7a6)}
.flag.f3{background:linear-gradient(180deg,#d1f7ff,#a6e6ff)}
.flag.f4{background:linear-gradient(180deg,#d6ffd1,#a6f7a6)}
.flag.f5{background:linear-gradient(180deg,#f0d1ff,#e2b0ff)}
.flag.f6{background:linear-gradient(180deg,#ffd1d1,#ffb0b0)}

@media (max-width:700px){
  .bunting{top:6px}
  .flag{width:34px;height:26px}
}

/* small screens */
@media (max-width:600px){
  .greeting{font-size:1.6rem}
  .container{padding:2rem .75rem}
}

/* Time-travel / scroll-snap layout */
.time-travel-root { overflow: auto }
.snap-container { height: 100vh; /* full viewport so snap fills mobile view */
  scroll-snap-type: y mandatory; -webkit-overflow-scrolling: touch; overflow-y: auto; }
.snap-section { scroll-snap-align: start; display:flex;align-items:center;justify-content:center; flex-direction:column }
.hero-section { background: linear-gradient(180deg, rgba(255,255,255,0.6), rgba(255,240,245,0.6)); }
.memory-section { background: linear-gradient(180deg, rgba(255,255,255,0.5), rgba(250,250,255,0.6)); }
.final-section { background: linear-gradient(180deg, rgba(255,250,240,0.7), rgba(255,245,250,0.8)); }

.memory-card{display:flex;gap:1.25rem;align-items:center;max-width:900px;background:rgba(255,255,255,0.85);padding:1.25rem;border-radius:14px}
.memory-card .photo{flex:0 0 48%;display:block}
.memory-card .photo video,
.photo img {
  width: 100%;
  border-radius: 18px;
  object-fit: cover;
}
.memory-card .meta{flex:1;max-width:520px}
.memory-card h3{margin:0 0 .4rem;color:var(--accent)}
.memory-card .caption{margin:0;color:#333}
.memory-card .joke{margin-top:.5rem;color:#8a3b57;font-style:italic}

.hero-inner{text-align:center}
.hero-inner h2{font-size:2rem;color:var(--accent);margin-bottom:.4rem}
.hero-inner .hint{color:var(--muted);margin-top:.5rem}

.mcq{margin-top:1rem;display:flex;flex-direction:column;gap:10px;align-items:center}
.mcq .question{font-weight:700;margin:0 0 .25rem}
.mcq .option{background:linear-gradient(90deg,#fff,#fff);border:1px solid #f0e6ea;padding:.65rem .9rem;border-radius:12px;cursor:pointer;min-width:260px;text-align:left;display:inline-flex;gap:.6rem;align-items:center}
.mcq .option:hover{box-shadow:0 10px 30px rgba(0,0,0,0.06)}
.mcq .option.selected{border-color:rgba(255,77,109,0.3);box-shadow:0 12px 30px rgba(255,77,109,0.06)}
.mcq .option.correct{background:linear-gradient(90deg,#fff7f8,#fff);border-color:var(--accent)}
.mcq .opt-num{font-weight:700;color:var(--muted);width:26px}
.mcq-feedback{margin: 20px;color:#8a3b57;font-weight:600}

.memory-mcq{margin-top:1rem}

.reveal-ask{display:flex;justify-content:center;margin-top:1rem}
.reveal-ask .reveal-btn{background:var(--accent);color:white;border:0;padding:.9rem 1.1rem;border-radius:999px;font-weight:700;cursor:pointer;box-shadow:0 8px 28px rgba(255,77,109,0.18)}
.reveal-ask .reveal-btn:active{transform:translateY(1px)}

.reveal-inline{display:flex;justify-content:center;margin-top:1rem}
.reveal-inline-btn{background:transparent;border:0;color:var(--accent);padding:.25rem .5rem;border-radius:6px;cursor:pointer;font-weight:700;border:1px solid rgba(255,77,109,0.08)}
.reveal-inline-btn:active{transform:translateY(1px)}


.final-card{max-width:720px;background:rgba(255,255,255,0.95);padding:2rem;border-radius:14px;text-align:center;box-shadow:0 14px 40px rgba(0,0,0,0.06)}
.final-card h2{color:var(--accent);margin-bottom:.4rem}
.final-card .tease{color:#333}
.final-card .wish{color:#3b2a3d}
.final-card .from{margin-top:1rem;font-weight:700}

.media-loader {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  pointer-events: none;
}

.spinner {
  width: 26px;
  height: 26px;
  border: 3px solid rgba(255,105,135,.25);
  border-top: 3px solid #ff6b8f;
  border-radius: 50%;
  animation: spin .8s linear infinite;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}


/* Mobile responsive adjustments */
@media (max-width:700px) {
  .memory-card{flex-direction:column;align-items:stretch}
  .memory-card .photo img{width:100%;height:auto}
  .memory-card .meta{max-width:100%}

  .hero-inner h2{font-size:1.6rem}

  .site-header{margin-top: 15px;}
  .site-header h1{font-size:1rem}

  
  .player-btn{padding:.6rem .8rem}
  .reveal-btn, .player-btn{padding:.75rem 1rem;font-size:1rem}

  .reveal-btn, .player-btn{padding:.75rem 1rem;font-size:1rem}

  /* keep balloons visible on mobile but smaller */
  .balloon{font-size:1.4rem}

  .final-card{padding:1.25rem}
}

/* Story-style navigation */
.story-root{position:relative}
.story-container{min-height:calc(100vh - 140px);display:flex;align-items:center;justify-content:center;padding:1.25rem}
.story-card{width:100%;max-width:940px;background:rgba(255,255,255,0.95);border-radius:14px;padding:1.25rem;display:flex;align-items:center;justify-content:center;min-height:60vh;box-shadow:0 18px 40px rgba(0,0,0,0.06)}
.story-controls{position:fixed;left:0;right:0;bottom:22px;display:flex;align-items:center;justify-content:center;gap:200px;z-index:60}
.story-controls .nav{background:rgba(255,255,255,0.9);border:0;padding:10px 14px;border-radius:10px;box-shadow:0 8px 20px rgba(0,0,0,0.08);cursor:pointer}
.story-controls .nav:active{transform:translateY(1px)}
.dot{width:10px;height:10px;border-radius:10px;background:#eee;border:0}
.dot.active{background:var(--accent);box-shadow:0 6px 18px rgba(255,77,109,0.18)}
.confetti{position:fixed;left:0;right:0;top:0;bottom:0;pointer-events:none;z-index:70;overflow:hidden}
.confetti{position:fixed;left:0;right:0;top:0;bottom:0;pointer-events:none;z-index:70;overflow:hidden}
.confetti-piece{position:absolute;top:10%;opacity:0.95;border-radius:2px;animation:confettiFall 1.8s cubic-bezier(.2,.8,.2,1) forwards}
@keyframes confettiFall{
  0%{transform:translateY(-10vh) rotate(0);opacity:1}
  100%{transform:translateY(110vh) rotate(360deg);opacity:0}
}

@keyframes heartFloat{
  0%{transform:translateY(0) rotateX(0) rotateY(0)}
  50%{transform:translateY(-18px) rotateX(12deg) rotateY(8deg)}
  100%{transform:translateY(0) rotateX(0) rotateY(0)}
}

@media (max-width:700px){
  .story-card{padding:1rem;border-radius:12px;margin:0 8px}
  .story-controls{bottom:12px}
}

/* reduce number / intensity on very small screens */
@media (max-width:420px){
  .hearts-3d{opacity:0.9}
  .heart-face{font-size:0.9em}
}

/* Paintings / interactive colorize */
.paintings-card{max-width:820px;text-align:center}
.paintings-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:12px;margin-top:1rem}
.painting{background:rgba(255,255,255,0.9);padding:6px;border-radius:10px;cursor:pointer;transition:transform .18s ease}
.painting:active{transform:scale(.98)}
.painting{display:flex;align-items:center;justify-content:center}
.painting img{width:100%;height:auto;max-height:60vh;object-fit:contain;border-radius:8px;display:block;filter:grayscale(100%) contrast(.95) saturate(.6);transition:filter .45s ease, transform .3s ease}
.painting.colored img{filter:none;transform:scale(1.02)}

@media (max-width:700px){
  .paintings-grid{grid-template-columns:repeat(1,1fr)}
  .painting img{height:auto;max-height:45vh}
}

/* make the paintings card scrollable if images exceed available height */
.paintings-card{max-height:calc(100vh - 160px);overflow:auto;padding:12px}

/* Suggestions activity */
.suggestions-card{max-width:820px;padding:1rem 1.25rem;text-align:left}
.suggestions-card h3{color:var(--accent);margin-bottom:0.25rem}
.suggestions-list{display:flex;flex-direction:column;gap:10px;margin-top:0.75rem}
.suggestion-row{display:flex;flex-direction:column;gap:6px}
.suggestion-row label{font-size:0.85rem;color:var(--muted)}
.suggestion-row input{padding:.6rem .8rem;border-radius:8px;border:1px solid #eee;background:#fff;outline:none}
.suggestions-actions{display:flex;gap:10px;justify-content:flex-end;margin-top:1rem}
.suggestions-actions .reveal-btn{background:var(--accent);color:white;border:0;padding:.6rem 1rem;border-radius:8px;cursor:pointer}
.suggestions-actions .reveal-inline-btn{background:transparent;border:0;color:var(--accent);padding:.5rem .75rem;border-radius:6px;cursor:pointer;border:1px solid rgba(255,77,109,0.08)}

/* Promise / apology page */
.promise-card{max-width:820px;padding:1.25rem;background:rgba(255,255,255,0.96);border-radius:12px}
.promise-text{color:#2b1b28;line-height:1.6;font-size:1.05rem}
.promise-text p{margin:0 0 0.9rem}
.promise-text p:last-child{margin-bottom:0}

/* Ask page */
.ask-card{max-width:820px;padding:1.25rem;background:rgba(255,255,255,0.98);border-radius:12px;text-align:center}
.ask-text{color:#2b1b28;line-height:1.6;font-size:1.15rem;font-weight:600}
.ask-text p{margin:0 0 .9rem}
.ask-text p:last-child{margin-bottom:0}

/* Hesitant page */
.hesitant-card{max-width:820px;padding:1.25rem;background:rgba(255,255,255,0.98);border-radius:12px;text-align:center}
.hesitant-text{color:#2b1b28;line-height:1.6;font-size:1.05rem}
.hesitant-text p{margin:0 0 .6rem}

/* Nervous emoji page */
.nervous-card{max-width:420px;padding:2rem;border-radius:12px;background:rgba(255,255,255,0.98);text-align:center}
.nervous-emoji{font-size:4.25rem}

/* Love meter */
.love-meter-card{max-width:720px;padding:1.25rem;border-radius:12px;background:linear-gradient(180deg,rgba(255,255,255,0.96),#fff);text-align:center}
.meter-row{display:flex;align-items:center;gap:12px;margin-top:1rem}
.love-slider{flex:1}
.meter-value{min-width:56px;text-align:center;font-weight:700}
.emoji-row{font-size:2.25rem;margin-top:12px}
.love-response{margin-top:12px;font-weight:700;color:#5b2a4a}
.error-box{margin-top:12px;background:#ffefef;color:#8a1f2d;padding:.6rem;border-radius:8px;box-shadow:0 8px 20px rgba(250,80,120,0.08)}

@keyframes screenShake{
  0% { transform: translateX(0) }
  20% { transform: translateX(-8px) }
  40% { transform: translateX(8px) }
  60% { transform: translateX(-6px) }
  80% { transform: translateX(6px) }
  100% { transform: translateX(0) }
}
.shake{animation: screenShake .6s ease-in-out}
